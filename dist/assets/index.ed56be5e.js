var he=Object.defineProperty;var pe=(i,e,s)=>e in i?he(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var _=(i,e,s)=>(pe(i,typeof e!="symbol"?e+"":e,s),s);import{r as p,a as Q,L as ce,B as F,b as W,c as _e,d as H,G as V,S as fe,M as ve,e as ge,V as me,o as U,O as ye,A as xe,P as we,R as be,U as Le,f as $e,E as ke,W as Se,g as Ce,C as Me,h as Ne,i as Pe,j as g,k as m,l as Ie,F as ee,m as te,n as M,p as r,t as $,u as x,w as je,q as z,s as B,v as D,x as N,y as A,z as ie,D as Z,H as K,I as Ae,J as Oe,K as De,N as E,Q as Te}from"./vendor.ce66b313.js";const Ue=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};Ue();var Re="./assets/back.3e30294c.jpg",Fe="./assets/bottom.283b4be8.jpg",We="./assets/front.b9483333.jpg",Ee="./assets/left.d7e0879d.jpg",Xe="./assets/right.80884b70.jpg",ze="./assets/top.8b10a0eb.jpg";const w={isLogin:p(!1),msg:p(0),isPanner:p(!1)},C=Q.create({baseURL:"https://ganqian1.vercel.app/",timeout:8e3,withCredentials:!0});C.interceptors.request.use(i=>(w.msg.value=1,i));C.interceptors.response.use(i=>(w.msg.value=0,i),i=>(w.msg.value=0,i));function T(i){if(typeof i=="number"){let e=parseInt(i/60),s=parseInt(i-e*60);return e=e<10?`0${e}`:e,s=s<10?`0${s}`:s,`${e}:${s}`}else return parseInt(i.slice(0,2))*60+parseInt(i.slice(3,5))}function se(i){return i.map(e=>({name:e.name,id:e.id,author:e.ar.map(s=>s.name).join("/"),time:Math.floor(e.dt/1e3),platform:"net"}))}function Be(){return new Promise((i,e)=>{C.get("/personal_fm").then(s=>{let t=s.data.data.map(n=>({name:n.name,id:n.id,author:n.artists.map(a=>a.name).join("/"),time:Math.floor(n.duration/1e3),platform:"net"}));i(t)}).catch(s=>console.log(s))})}function Je(i){return new Promise((e,s)=>{C.get("/like",{params:{id:i}}).catch(t=>console.log(t))})}function qe(i){return w.msg.value=1,new Promise((e,s)=>{fetch(i,{responseType:"blob"}).then(t=>t.blob()).then(async t=>{w.msg.value=0;let n=URL.createObjectURL(t);e(n)}).catch(t=>{w.msg.value=0,console.log(t)})})}function Ge(i){return new Promise((e,s)=>{C.get("/cloudsearch",{params:{keywords:i}}).then(t=>{e(se(t.data.result.songs))}).catch(t=>console.log(t))})}function Ye(){return new Promise((i,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid;C.get("/recommend/songs",{params:{uid:s}}).then(t=>{i(se(t.data.data.dailySongs))}).catch(t=>console.log(t))})}function He(i){return new Promise((e,s)=>{C.get("/lyric",{params:{id:i}}).then(t=>{if(t=t.data,t.nolyric)e([]);else{let n=t.lrc.lyric.split(`
`),a=[];for(let o of n){if(o=="")continue;let c={};c.content=o.match(/](.*)/)[1],c.content!=""&&(c.time=o.slice(1,6),c.second=T(c.time),a.push(c))}e(a)}}).catch(t=>console.log(t))})}function Ve(i){return new Promise((e,s)=>{let t=`https://music.163.com/song/media/outer/url?id=${i}.mp3`;Q({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getNetEaseMusicUrl",url:t})}).then(a=>{if(a.data.url!="https://music.163.com/404"){let o=a.data.url.replace(/(http|https)/,"https");e(o)}else C.get(`/song/url?id=${i}`).then(o=>{let c=o.data.data[0].url.replace(/(http|https)/,"https");e(c)})}).catch(a=>console.log(a))})}function Ze(){return new Promise((i,e)=>{let s=localStorage.getItem("douList");s?i(JSON.parse(s)):(w.msg.value=1,Q({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getDouYin"})}).then(n=>{var a;if(w.msg.value=0,(a=n.data)!=null&&a.data){let o=n.data.data.map(c=>({name:c.name,tag:c.tag,author:c.res.musicAuthor,time:c.res.musicDuration,url:c.res.musicUrl,platform:"dou"}));localStorage.setItem("douList",JSON.stringify(o)),i(o)}}).catch(n=>{w.msg.value=0,console.log(n)}))})}async function Ke(i){return new Promise((e,s)=>{C.get("/captcha/sent",{params:{phone:i}}).then(t=>{e(!0)}).catch(t=>console.log(t))})}async function Qe(i,e){return new Promise((s,t)=>{C.get("/login/cellphone",{params:{phone:i,captcha:e}}).then(n=>{n=n.data;let a={uid:n.account.id,avatarUrl:n.profile.avatarUrl,nickName:n.profile.nickname};localStorage.setItem("user",JSON.stringify(a)),w.isLogin.value=!0,s()}).catch(n=>console.log(n))})}function G(i){return new Promise((e,s)=>{let t=JSON.parse(localStorage.getItem("user")).uid,n=localStorage.getItem(`songsListNet${t}`),a=localStorage.getItem(`songListNet${i}`);a?e(JSON.parse(a)):C.get("/playlist/detail",{params:{id:i}}).then(o=>{if(console.log("\u8BF7\u6C42\u6B4C\u66F2\u5217\u8868",o),o.status==200&&o.data.code==200){let c=se(o.data.playlist.tracks);i==JSON.parse(n)[0].id&&localStorage.setItem(`songListNet${i}`,JSON.stringify(c)),e(c)}}).catch(o=>console.log(o))})}function et(){return new Promise((i,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid,t=localStorage.getItem(`songsListNet${s}`);t?i(JSON.parse(t)):C.get("/user/playlist",{params:{uid:s}}).then(n=>{n=n.data;let a=[{id:n.playlist[0].id,name:"\u6211\u559C\u6B22"}];for(let o=1;o<n.playlist.length;o++)n.playlist[o].subscribed||a.push({id:n.playlist[o].id,name:n.playlist[o].name});localStorage.setItem(`songsListNet${s}`,JSON.stringify(a)),i(a)}).catch(n=>console.log(n))})}class tt{constructor(){_(this,"ctx",null);_(this,"source",null);_(this,"audio",document.createElement("audio"));_(this,"fft",new Uint8Array(128));_(this,"analyser",null);_(this,"isPlay",p(!1));_(this,"music",p({}));_(this,"index",0);_(this,"listDou",p([]));_(this,"listNet",p([]));_(this,"listWant",[]);_(this,"indexNet",p(0));_(this,"indexDou",p(0));_(this,"updateNetCb",null);_(this,"updateProgressCb",null);_(this,"isUserSlide",!1);_(this,"order",0)}init(){this.ctx=new AudioContext,this.analyser=this.ctx.createAnalyser(),this.source=this.ctx.createMediaElementSource(this.audio),this.analyser.fftSize=512,this.source.connect(this.analyser).connect(this.ctx.destination),this.audio.ontimeupdate=()=>{this.updateNetCb&&this.music.value.platform=="net"&&this.updateNetCb(),this.updateProgressCb&&!this.isUserSlide&&this.updateProgressCb()};let e=this;this.audio.addEventListener("ended",this.next.bind(e))}async start(e,s){if(this.isPlay.value=!0,e.name==this.music.value.name){this.audio.play();return}this.ctx||this.init(),this.audio.pause(),this.music.value=e,this.index=s;let t;e.platform=="net"?(t=await Ve(e.id),this.indexNet.value=s):e.platform=="dou"&&(t=e.url,this.indexDou.value=s);let n=await qe(t);this.audio.src=n,this.audio.play()}next(){if(this.listWant.length==0){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.order==0?(this.index=this.index<e.length-1?this.index+1:0,this.start(e[this.index],this.index)):this.order==1?(this.index=Math.floor(Math.random()*e.length-1),this.start(e[this.index],this.index)):this.order==2&&this.audio.play()}else this.start(this.listWant[0]),this.listWant.shift()}last(){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.index=this.index-1<0?0:this.index-1,this.start(e[this.index],this.index)}pause(){this.audio.pause(),this.isPlay.value=!1}resume(){console.log("resume"),this.audio.play(),this.isPlay.value=!0}}const l=new tt,X=40,ae=10,oe=128,st=.5,nt=20,it=65535,le=10,at=100,Y=new ce({color:65535});class ot{constructor(e){_(this,"outLine");_(this,"inLine");_(this,"midLines",[]);_(this,"points",[]);this.scene=e}update(){let e=[],s=[];for(let t=0;t<l.fft.length;t++){let n=Math.PI*2/l.fft.length*t,a=Math.cos(n)*l.fft[t]*(ae/256),o=Math.sin(n)*l.fft[t]*(ae/256),c=[this.points[t*3]-a,0,this.points[t*3+2]-o,this.points[t*3]+a,0,this.points[t*3+2]+o];this.midLines[t].geometry.getAttribute("position").set(c,0),this.midLines[t].geometry.getAttribute("position").needsUpdate=!0,e.push(this.points[t*3]+a),e.push(0),e.push(this.points[t*3+2]+o),s.push(this.points[t*3]-a),s.push(0),s.push(this.points[t*3+2]-o)}this.outLine.geometry.getAttribute("position").set(e,0),this.inLine.geometry.getAttribute("position").set(s,0),this.outLine.geometry.getAttribute("position").needsUpdate=!0,this.inLine.geometry.getAttribute("position").needsUpdate=!0}init(){l.fft.forEach((t,n)=>{let a=Math.PI*2/l.fft.length*n,o=Math.cos(a)*X,c=0,d=Math.sin(a)*X;this.points.push(o,c,d);let f=new F;f.attributes.position=new W(new Float32Array([o,c,d,o,c,d]),3);let h=new _e(f,Y);this.midLines.push(h),this.scene.add(h)});let e=new F,s=new F;e.attributes.position=new W(new Float32Array(this.points),3),s.attributes.position=new W(new Float32Array(this.points),3),this.outLine=new H(e,Y),this.inLine=new H(s,Y),this.scene.add(this.outLine,this.inLine)}}class lt{constructor(e){_(this,"barGroup");_(this,"scene");this.scene=e}init(){this.barGroup=new V;for(let e=0;e<oe;e++){let s=new V,t=new fe(st),n=new ve({color:it}),a=new ge(t,n);a.position.y=.5,s.add(a);let o=Math.PI*2/oe*e+Math.PI/2,c=Math.sin(o)*X,d=Math.cos(o)*X;s.position.set(c,le,d),this.barGroup.add(s)}this.scene.add(this.barGroup)}update(){this.barGroup.children.forEach((e,s)=>{e.position.y=le+l.fft[s]*(nt/256)})}}class re{constructor(){_(this,"speedT",R(.4,.6));_(this,"speedR",.01);_(this,"distance",0);_(this,"lifeDistance",500);_(this,"loopLine",null);_(this,"look",new me(0,1,0));this.angle=Math.random()*Math.PI*2,this.x=Math.cos(this.angle)*40,this.y=0,this.z=Math.sin(this.angle)*40;let t=[];for(let n=0;n<3;n++)t.push(R(-5,5)),t.push(R(-5,5)),t.push(R(-5,5));this.geometry=new F,this.geometry.attributes.position=new W(new Float32Array(t),3),this.material=new ce({color:65535}),this.material.transparent=!0,this.loopLine=new H(this.geometry,this.material),this.loopLine.position.set(this.x,this.y,this.z)}update(){this.x+=this.speedT*Math.cos(this.angle),this.z+=this.speedT*Math.sin(this.angle),this.distance+=this.speedT,this.loopLine.position.set(this.x,this.y,this.z)}}class rt{constructor(e){_(this,"intervelCount",0);_(this,"traingles",[]);this.scene=e}init(){for(let e=0;e<10;e++){let s=new re;this.traingles.push(s),this.scene.add(s.loopLine)}}update(){if(this.intervelCount++,this.intervelCount>20){for(let e=0;e<3;e++){let s=new re;this.traingles.push(s),this.scene.add(s.loopLine)}this.intervelCount=0}for(let e=0;e<this.traingles.length;e++){let s=this.traingles[e];s.update(),s.distance>s.lifeDistance&&(this.scene.remove(s.loopLine),s.geometry.dispose(),s.material.dispose(),this.traingles.splice(e--,1))}}}function R(i,e){return Math.random()*(e-i)+i}const ct={setup(i){const e=p(null);let s,t,n,a,o;new Ie;let c={threshold:.2,strength:1,radius:0},d,f,h,y;U(()=>{u(),v()});function u(){q(),I(),J(),b(),j(),d=new V,t.add(d),f=new ot(d),f.init(),h=new lt(d),h.init(),y=new rt(t),y.init()}function v(){requestAnimationFrame(v),L(),a.render()}function L(){var S;(S=l.analyser)==null||S.getByteFrequencyData(l.fft),o.update(),d.rotateY(.003),h.update(),f.update(),y.update()}function I(){o=new ye(n,s.domElement),o.enablePan=!1,o.enableDamping=!0,o.enableZoom=!0,o.minDistance=0,o.maxDistance=1e3}function j(){window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),a.setSize(window.innerWidth,window.innerHeight)})}function b(){t.add(new xe(4473924));let S=new we(16777215);S.position.set(80,100,50),S.castShadow=!0,t.add(S)}let k;function J(){let S=new be(t,n);k=new Le(new $e(window.innerWidth,window.innerHeight),1.5,.2,0),k.threshold=c.threshold,k.strength=c.strength,k.radius=c.radius,a=new ke(s),a.addPass(S),a.addPass(k)}function q(){s=new Se({antialias:!0,alpha:!0,canvas:e.value}),s.setSize(window.innerWidth,window.innerHeight),t=new Ce,t.background=new Me().load(O()),n=new Ne(75,innerWidth/innerHeight,1,1e4),n.position.set(0,40,70),n.lookAt(0,0,0),new Pe(at)}function O(){return["right.jpg","left.jpg","top.jpg","bottom.jpg","front.jpg","back.jpg"].map(ne=>new URL({"../../assets/skybox/back.jpg":Re,"../../assets/skybox/bottom.jpg":Fe,"../../assets/skybox/front.jpg":We,"../../assets/skybox/left.jpg":Ee,"../../assets/skybox/right.jpg":Xe,"../../assets/skybox/top.jpg":ze}[`../../assets/skybox/${ne}`],self.location).href)}return(S,ne)=>(g(),m("canvas",{class:"canvas",ref_key:"canvas",ref:e},null,512))}};class ue{constructor(e){this.duration=e,this.updateCb=()=>{},this.endedCb=()=>{},this.startTime=0}start(){this.startTime=new Date().getTime(),this.recursion()}recursion(){let e=new Date().getTime()-this.startTime;e<this.duration?(requestAnimationFrame(this.recursion.bind(this)),this.updateCb(e)):this.endedCb()}}var P=(i,e)=>{const s=i.__vccOpts||i;for(const[t,n]of e)s[t]=n;return s};const ut=i=>(z("data-v-30380fb7"),i=i(),B(),i),dt=["onClick"],ht={class:"item_index"},pt={class:"mid"},_t={class:"item_name"},ft={class:"name_"},vt={class:"name"},gt={class:"author_"},mt={class:"author"},yt={class:"item_index"},xt={class:"mid"},wt=["onClick"],bt=ut(()=>r("span",{class:"mid add"},"+",-1)),Lt=[bt],$t={props:{list:Object,index_:Object},setup(i){const e=i,s=p(null);function t(a,o){l.listWant.push(D(o));let c=s.value,d=a.srcElement.offsetTop,f=a.srcElement.offsetLeft,h=document.createElement("div");h.style.left=`${f}px`,h.style.top=d+"px",h.style.position="absolute",h.style.pointerEvents="none",h.style.fontSize="25px",h.innerHTML="+";let y=new ue(1e3);y.updateCb=u=>{u=u/1e3;let v=-100,L=-300,I=1500,j=f+v*u,b=d+L*u+.5*I*u**2;h.style.left=j+"px",h.style.top=b+"px"},y.endedCb=()=>{c.removeChild(h)},y.start(),c.appendChild(h)}function n(a){e.index_.value=a,l.start(e.list.value[a],a)}return(a,o)=>(g(),m("div",{class:"list scroll",ref_key:"list_",ref:s},[(g(!0),m(ee,null,te(i.list.value,(c,d)=>(g(),m("div",{class:"item hover",key:"index",onClick:f=>n(d),style:M({fontWeight:i.index_.value==d?"900":"400"})},[r("div",ht,[r("span",pt,$(i.list.value.length-d),1)]),r("div",_t,[r("div",ft,[r("span",vt,$(c.name),1)]),r("div",gt,[r("span",mt,$(c.author),1)])]),r("div",yt,[r("span",xt,$(x(T)(c.time)),1)]),r("div",{class:"item_index",onClick:je(f=>t(f,c),["stop"])},Lt,8,wt)],12,dt))),128))],512))}};var de=P($t,[["__scopeId","data-v-30380fb7"]]);const kt={class:"dou"},St={class:"head"},Ct={class:"span"},Mt={key:0,class:"pop scroll_no_bar"},Nt=["onClick"],Pt={setup(i){let e=[];p(0);const s=p("\u6296\u97F3"),t=p(!1),n=["\u6296\u97F3","\u65E0\u4EBA\u58F0","\u6709\u4EBA\u58F0"];U(()=>{Ze().then(o=>{e=o,l.listDou.value=o})});function a(o){s.value=n[o],l.listDou.value=o==0?e:e.filter(c=>c.tag==o),l.indexDou.value=0,t.value=!1}return(o,c)=>(g(),m("div",kt,[r("div",St,[r("div",{class:"list_name",onMouseenter:c[0]||(c[0]=()=>t.value=!0),onMouseleave:c[1]||(c[1]=()=>t.value=!1)},[r("span",Ct,$(s.value),1),t.value?(g(),m("div",Mt,[(g(),m(ee,null,te(n,(d,f)=>r("div",{class:"name black_text hover",key:f,onClick:h=>a(f)},$(d),9,Nt)),64))])):N("",!0)],32)]),A(de,{list:x(l).listDou,index_:x(l).indexDou},null,8,["list","index_"])]))}};var It=P(Pt,[["__scopeId","data-v-58c9201d"]]);const jt={props:{flag:Boolean},emits:["change"],setup(i,{emit:e}){const t=p(i.flag);function n(){t.value=!t.value,e("change",t.value)}return(a,o)=>(g(),m("div",{class:"switch",onClick:n,style:M({backgroundColor:t.value?"rgba(0,255,255,0.6)":"transparent"})},[r("div",{class:"circle",style:M({transform:t.value?"translateX(15px)":"translateX(1px)"})},null,4)],4))}};var At=P(jt,[["__scopeId","data-v-c3c72e58"]]);const Ot=i=>(z("data-v-29b2988e"),i=i(),B(),i),Dt={class:"menu"},Tt={class:"item"},Ut=Ot(()=>r("span",{class:"tip"},"\u73AF\u7ED5\u97F3\u6548",-1)),Rt={class:"right"},Ft={setup(i){function e(s){w.isPanner.value=s}return(s,t)=>(g(),m("div",Dt,[r("div",Tt,[Ut,r("div",Rt,[A(At,{class:"switch_",flag:!1,onChange:e})])])]))}};var Wt=P(Ft,[["__scopeId","data-v-29b2988e"]]);const Et={class:"control"},Xt={class:"song"},zt={class:"progress"},Bt={class:"time"},Jt={class:"time_span"},qt={class:"slider"},Gt=["value"],Yt={class:"time"},Ht={class:"time_span"},Vt={class:"button"},Zt={class:"icon_"},Kt={class:"icon_"},Qt={class:"icon_"},es={class:"icon_"},ts={setup(i){const e=p(1),s=l.music,t=l.isPlay,n=p("00:00"),a=p("00:00"),o=p(l.order);l.updateProgressCb=()=>{let u=l.audio.currentTime,v=l.audio.duration;isNaN(v)&&(v=0),e.value=u/v*100,n.value=T(Math.floor(u)),a.value=T(Math.floor(v))};function c(){s.value.platform=="net"&&Je(s.value.id)}function d(u){e.value=u.target.value,l.isUserSlide=!0,n.value=T(Math.floor(l.audio.duration*e.value/100))}function f(u){e.value=u.target.value,l.isUserSlide=!1;let v=l.audio.duration*e.value/100;l.audio.currentTime=v}function h(){let u=o.value;l.order=u<2?u+1:0,o.value=l.order}function y(){!s.value.name||(l.isPlay.value?l.pause():l.resume())}return(u,v)=>(g(),m("div",Et,[r("div",Xt,[r("span",{class:"span",onDblclick:c},$(x(s).name),33)]),r("div",zt,[r("div",Bt,[r("span",Jt,$(n.value),1)]),r("div",qt,[r("input",{class:"range",type:"range",value:e.value,min:"1",max:"100",step:"0.1",onInput:d,onChange:f,style:M({background:`linear-gradient(to right,#00ffff 0%,#00ffff ${e.value}%,rgba(0,255,255,0.4) ${e.value}%,rgba(0,255,255,0.4) 100%)`})},null,44,Gt)]),r("div",Yt,[r("span",Ht,$(a.value),1)])]),r("div",Vt,[r("div",Zt,[r("span",{class:ie(["icon","iconfont",["icon-shunxubofang","icon-suijibofang","icon-danquxunhuan"][o.value]]),onClick:h},null,2)]),r("div",Kt,[r("span",{class:"icon iconfont icon-shangyishoushangyige",onClick:v[0]||(v[0]=(...L)=>x(l).last&&x(l).last(...L))})]),r("div",{class:"icon_",onClick:y},[r("span",{class:ie(["icon","iconfont",x(t)?"icon-pause":"icon-bofang1"])},null,2)]),r("div",Qt,[r("span",{class:"icon iconfont icon-xiayigexiayishou",onClick:v[1]||(v[1]=(...L)=>x(l).next&&x(l).next(...L))})]),r("div",es,[r("span",{class:"icon iconfont icon-qingchu",onClick:v[2]||(v[2]=()=>x(l).listWant=[])})])])]))}};var ss=P(ts,[["__scopeId","data-v-169174d9"]]);const ns=i=>(z("data-v-2af6b1e1"),i=i(),B(),i),is={class:"net"},as={class:"head"},os={class:"span_"},ls={key:0,class:"pop scroll_no_bar"},rs=["onClick"],cs={class:"fm_"},us={class:"fm_"},ds=ns(()=>r("div",{class:"span_"},[r("span",{class:"center iconfont icon-sousuo"})],-1)),hs={key:0,class:"pop_search pop"},ps={setup(i){p(0);const e=p([]),s=p(0),t=p(!1),n=p(!1),a=p(0),o=p("");U(async()=>{e.value=await et(),G(D(e.value)[0].id).then(u=>{l.listNet.value=u})});function c(){localStorage.setItem(`songListNet${D(e.value)[0].id}`,""),G(D(e.value)[0].id).then(u=>{s.value==0&&a.value==0&&(l.listNet.value=u)})}function d(){Be().then(u=>{l.listNet.value=u,l.indexNet.value=0,a.value=2})}function f(){Ge(o.value).then(u=>{l.listNet.value=u,l.indexNet.value=0,n.value=!1,a.value=3})}function h(){Ye().then(u=>{l.listNet.value=u,l.indexNet.value=0,a.value=1})}function y(u){s.value==u&&a.value==0||G(D(e.value)[u].id).then(v=>{l.listNet.value=v,l.indexNet.value=0,s.value=u,t.value=!1,a.value=0})}return(u,v)=>(g(),m("div",is,[r("div",as,[r("div",{class:"list_name",onMouseenter:v[0]||(v[0]=()=>t.value=!0),onMouseleave:v[1]||(v[1]=()=>t.value=!1),onDblclick:c},[r("div",os,[r("span",{class:"center",style:M({fontWeight:a.value==0?"900":"400"})},$(e.value.length!=0&&e.value[s.value].name),5)]),t.value?(g(),m("div",ls,[(g(!0),m(ee,null,te(e.value,(L,I)=>(g(),m("div",{class:"name black_text hover",key:I,onClick:j=>y(I)},$(L.name),9,rs))),128))])):N("",!0)],32),r("div",cs,[r("span",{class:"center",onClick:h,style:M({fontWeight:a.value==1?"900":"400"})},"\u65E5\u63A8",4)]),r("div",us,[r("span",{class:"center",onClick:d,style:M({fontWeight:a.value==2?"900":"400"})},"FM",4)]),r("div",{class:"search",onMouseenter:v[3]||(v[3]=()=>n.value=!0),onMouseleave:v[4]||(v[4]=()=>n.value=!1)},[ds,n.value?(g(),m("div",hs,[Z(r("input",{class:"input",type:"text","onUpdate:modelValue":v[2]||(v[2]=L=>o.value=L)},null,512),[[K,o.value]]),r("span",{class:"icon iconfont icon-sousuo",onClick:f,style:M({fontWeight:a.value==3?"900":"400"})},null,4)])):N("",!0)],32)]),A(de,{list:x(l).listNet,index_:x(l).indexNet},null,8,["list","index_"])]))}};var _s=P(ps,[["__scopeId","data-v-2af6b1e1"]]);const fs={class:"lyric"},vs={setup(i){const e=p(null),s=400,t=200,n=t/2;let a=t/2,o=t/6,c,d,f,h=[],y=0,u=0;U(()=>{I()}),Ae(()=>{v(l.music.value)});function v(b){b.name&&(y=0,u=0,a=n,h=[],j(),b.platform=="net"&&He(b.id).then(k=>{h=k,j(),l.updateNetCb=L}))}function L(){let b=l.audio.currentTime;for(let k in h)if(b<h[k].second){if(u=k-1<0?0:k-1,u!=y){let J=(y-u)*o,q=n-y*o;y=u;let O=new ue(300);O.updateCb=S=>{a=q+J*(S/300),j()},O.endedCb=()=>{},O.start()}break}}function I(){c=e.value,d=c.getContext("2d"),f=d.createLinearGradient(0,0,0,t),f.addColorStop("0","rgba(0,255,255,0)"),f.addColorStop("0.5","rgba(0,255,255,1)"),f.addColorStop("1.0","rgba(0,255,255,0)")}function j(){c.width=s,c.height=t,d.fillStyle=f,d.font="17px ''",d.textBaseline="middle",d.textAlign="center",d.shadowColor="rgba(0,255,255,1)",d.shadowBlur=40;for(let b=0;b<h.length;b++)d.fillText(h[b].content,s/2,o*b+a)}return(b,k)=>(g(),m("div",fs,[r("canvas",{ref_key:"canvas_",ref:e,id:"canvas"},null,512)]))}};var gs=P(vs,[["__scopeId","data-v-8c784e84"]]);const ms=i=>(z("data-v-d259f294"),i=i(),B(),i),ys={class:"login"},xs=ms(()=>r("span",{class:"item"},"\u7F51\u6613\u4E91",-1)),ws={class:"ver"},bs={key:1,class:"send"},Ls={key:1,class:"start item"},$s={setup(i){const e=p(""),s=p(""),t=p(!0),n=p(!0),a=p(60);let o;Oe(()=>{clearInterval(o)});async function c(){t.value=!1,o=setInterval(()=>{a.value--,a.value==-1&&(a.value=60,t.value=!0,clearInterval(o))},1e3),Ke(e.value)}function d(){n.value=!1,Qe(e.value,s.value).catch(f=>{n=!0})}return(f,h)=>(g(),m("div",ys,[xs,Z(r("input",{class:"phone",type:"text",placeholder:"\u624B\u673A\u53F7\uFF1A","onUpdate:modelValue":h[0]||(h[0]=y=>e.value=y)},null,512),[[K,e.value]]),r("div",ws,[Z(r("input",{class:"input_ver",type:"text","onUpdate:modelValue":h[1]||(h[1]=y=>s.value=y),placeholder:"\u9A8C\u8BC1\u7801\uFF1A"},null,512),[[K,s.value]]),t.value?(g(),m("span",{key:0,class:"send",onClick:c},"\u53D1\u9001\u9A8C\u8BC1\u7801")):N("",!0),t.value?N("",!0):(g(),m("span",bs,$(a.value),1))]),n.value?(g(),m("div",{key:0,class:"start item",onClick:d},"\u767B\u5F55")):N("",!0),n.value?N("",!0):(g(),m("div",Ls,"\u767B\u5F55\u4E2D\u3002\u3002\u3002"))]))}};var ks=P($s,[["__scopeId","data-v-d259f294"]]);class Ss{constructor(){_(this,"listener",null);_(this,"panner",null)}move(e,s){this.panner.positionX.value=parseInt(e),this.panner.positionZ.value=parseInt(s)}init(){this.listener=l.ctx.listener,this.listener.positionX.value=100,this.listener.positionY.value=0,this.listener.positionZ.value=100,this.listener.forwardX.value=0,this.listener.forwardY.value=0,this.listener.forwardZ.value=-1,this.listener.upX.value=0,this.listener.upY.value=1,this.listener.upZ.value=0,this.panner=new PannerNode(l.ctx,{panningModel:"HRTF",distanceModel:"linear",positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:-1,refDistance:1,maxDistance:200,rolloffFactor:1e5,coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:.1}),this.connect()}connect(){l.analyser.disconnect(l.ctx.destination),l.analyser.connect(this.panner).connect(l.ctx.destination)}dispose(){l.analyser.disconnect(this.panner),this.panner.disconnect(l.ctx.destination),l.analyser.connect(l.ctx.destination)}}const Cs={class:"effect"},Ms={class:"circle"},Ns={setup(i){let e;const t=p(100),n=p(100);let a=0;const o=p(!1);U(()=>{e=new Ss,e.init(),c()}),De(()=>{e.dispose()});function c(){window.requestAnimationFrame(c),o.value||(a=a+.05>Math.PI*2?0:a+.05,t.value=Math.cos(a)*100+100,n.value=Math.sin(a)*100+100,e.move(t.value,n.value))}function d(f){o.value=!0,t.value=f.offsetX,n.value=f.offsetY,e.move(f.offsetX,f.offsetY)}return(f,h)=>(g(),m("div",Cs,[r("div",Ms,[r("span",{class:"listener iconfont icon-yinxiang",style:M({left:t.value+"px",top:n.value+"px"})},"\u97F3",4),r("div",{class:"mask",onMousemove:d,onMouseleave:h[0]||(h[0]=()=>o.value=!1)},null,32)])]))}};var Ps=P(Ns,[["__scopeId","data-v-573ac89d"]]);const Is={class:"index"},js={class:"msg"},As={setup(i){const e=p(!1),s=["","\u4E0D\u8981\u4E71\u70B9\uFF0C\u6B63\u5728\u52A0\u8F7D\u4E2D......"];let t=localStorage.getItem("user");return w.isLogin.value=!!t,(n,a)=>(g(),m("div",Is,[A(ct),A(ss,{class:"control_"}),A(Wt,{class:"menu_",onMouseleave:a[0]||(a[0]=()=>e.value=!1),style:M({transform:e.value?"translate(0vw,0)":"translate(-15vw,0)"})},null,8,["style"]),A(It,{class:"dou_"}),x(w).isLogin.value?(g(),E(_s,{key:0,class:"net_"})):N("",!0),x(w).isLogin.value?N("",!0):(g(),E(ks,{key:1,class:"net_"})),A(gs,{class:"lyric_"}),x(w).isPanner.value?(g(),E(Ps,{key:2,class:"effect_"})):N("",!0),r("span",{class:"setting iconfont icon-shezhi",onMouseenter:a[1]||(a[1]=()=>e.value=!0)},null,32),r("span",js,$(s[x(w).msg.value]),1)]))}};var Os=P(As,[["__scopeId","data-v-b81054d4"]]);const Ds={setup(i){return document.body.addEventListener("click",()=>{try{document.body.requestFullscreen()}catch{}}),(e,s)=>(g(),E(Os))}};Te(Ds).mount("#app");
