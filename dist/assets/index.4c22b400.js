var fe=Object.defineProperty;var me=(i,e,s)=>e in i?fe(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var p=(i,e,s)=>(me(i,typeof e!="symbol"?e+"":e,s),s);import{r as f,a as V,L as re,B as E,b as U,c as ge,d as B,G as X,S as ve,M as ye,e as xe,V as be,o as F,O as we,A as Le,P as $e,W as Se,f as Ce,C as ke,g as Ne,h as Me,i as g,j as w,F as H,k as Y,n as N,l,t as S,u as y,w as Pe,p as K,m as Z,q as A,s as j,v as k,x as ee,y as Ie,z as je,D as Ae,E as z,H as O,I as Oe}from"./vendor.e0798fdf.js";const De=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}};De();const Te="modulepreload",te={},Ee="./",J=function(e,s){return!s||s.length===0?e():Promise.all(s.map(t=>{if(t=`${Ee}${t}`,t in te)return;te[t]=!0;const n=t.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const o=document.createElement("link");if(o.rel=n?"stylesheet":Te,n||(o.as="script",o.crossOrigin=""),o.href=t,document.head.appendChild(o),n)return new Promise((r,u)=>{o.addEventListener("load",r),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>e())};var Ue="./assets/back.3e30294c.jpg",We="./assets/bottom.283b4be8.jpg",Fe="./assets/front.b9483333.jpg",Re="./assets/left.d7e0879d.jpg",ze="./assets/right.80884b70.jpg",Je="./assets/top.8b10a0eb.jpg";const x={isLogin:f(!1),msg:f(0),isPanner:f(!1),isComments:f(!0)},$=V.create({baseURL:"https://ganqian1.vercel.app/",timeout:18e3,withCredentials:!0});$.interceptors.request.use(i=>(x.msg.value=1,i));$.interceptors.response.use(i=>(x.msg.value=0,i),i=>(x.msg.value=0,i));function D(i){if(typeof i=="number"){let e=parseInt(i/60),s=parseInt(i-e*60);return e=e<10?`0${e}`:e,s=s<10?`0${s}`:s,`${e}:${s}`}else return parseInt(i.slice(0,2))*60+parseInt(i.slice(3,5))}function Q(i){return i.map(e=>({name:e.name,id:e.id,author:e.ar.map(s=>s.name).join("/"),time:Math.floor(e.dt/1e3),platform:"net"}))}function Ls(i){return new Promise((e,s)=>{$.get("/comment/music",{params:{id:i}}).then(t=>{let n=t.data.hotComments.reduce((a,o)=>a+"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"+o.user.nickname+"\uFF1A"+o.content,"");e(n.replace(`
`,""))}).catch(t=>console.log(t))})}function qe(){return new Promise((i,e)=>{$.get("/personal_fm").then(s=>{let t=s.data.data.map(n=>({name:n.name,id:n.id,author:n.artists.map(a=>a.name).join("/"),time:Math.floor(n.duration/1e3),platform:"net"}));i(t)}).catch(s=>console.log(s))})}function Ge(i){return new Promise((e,s)=>{$.get("/like",{params:{id:i}}).catch(t=>console.log(t))})}function Be(i){return x.msg.value=1,new Promise((e,s)=>{fetch(i,{responseType:"blob"}).then(t=>t.blob()).then(async t=>{x.msg.value=0;let n=URL.createObjectURL(t);e(n)}).catch(t=>{x.msg.value=0,console.log(t)})})}function Xe(i){return new Promise((e,s)=>{$.get("/cloudsearch",{params:{keywords:i}}).then(t=>{e(Q(t.data.result.songs))}).catch(t=>console.log(t))})}function Ve(){return new Promise((i,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid;$.get("/recommend/songs",{params:{uid:s}}).then(t=>{i(Q(t.data.data.dailySongs))}).catch(t=>console.log(t))})}function He(i){return new Promise((e,s)=>{$.get("/lyric",{params:{id:i}}).then(t=>{if(t=t.data,t.nolyric)e([]);else{let n=t.lrc.lyric.split(`
`),a=[];for(let o of n){if(o=="")continue;let r={};r.content=o.match(/](.*)/)[1],r.content!=""&&(r.time=o.slice(1,6),r.second=D(r.time),a.push(r))}e(a)}}).catch(t=>console.log(t))})}function Ye(i){return new Promise((e,s)=>{let t=`https://music.163.com/song/media/outer/url?id=${i}.mp3`;V({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getNetEaseMusicUrl",url:t})}).then(a=>{if(a.data.url!="https://music.163.com/404"){let o=a.data.url.replace(/(http|https)/,"https");e(o)}else $.get(`/song/url?id=${i}`).then(o=>{let r=o.data.data[0].url.replace(/(http|https)/,"https");e(r)}).catch(o=>console.log(o))}).catch(a=>console.log(a))})}function se(){return new Promise((i,e)=>{let s=localStorage.getItem("douList");s?i(JSON.parse(s)):(x.msg.value=1,V({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getDouYin"})}).then(n=>{x.msg.value=0;let a=n.data.data.map(o=>({name:o.name,tag:o.tag,author:o.res.musicAuthor,time:o.res.musicDuration,url:o.res.musicUrl,platform:"dou"}));localStorage.setItem("douList",JSON.stringify(a)),i(a)}).catch(n=>{x.msg.value=0,console.log(n)}))})}async function $s(i){return new Promise((e,s)=>{$.get("/captcha/sent",{params:{phone:i}}).then(t=>{e(!0)}).catch(t=>console.log(t))})}async function Ss(i,e){return new Promise((s,t)=>{$.get("/login/cellphone",{params:{phone:i,captcha:e}}).then(n=>{n=n.data;let a={uid:n.account.id,avatarUrl:n.profile.avatarUrl,nickName:n.profile.nickname};localStorage.setItem("user",JSON.stringify(a)),x.isLogin.value=!0,s()}).catch(n=>console.log(n))})}function q(i){return new Promise((e,s)=>{let t=JSON.parse(localStorage.getItem("user")).uid,n=localStorage.getItem(`songsListNet${t}`),a=localStorage.getItem(`songListNet${i}`);a?e(JSON.parse(a)):$.get("/playlist/detail",{params:{id:i}}).then(o=>{let r=Q(o.data.playlist.tracks);i==JSON.parse(n)[0].id&&localStorage.setItem(`songListNet${i}`,JSON.stringify(r)),e(r)}).catch(o=>console.log(o))})}function Ke(){return new Promise((i,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid,t=localStorage.getItem(`songsListNet${s}`);t?i(JSON.parse(t)):$.get("/user/playlist",{params:{uid:s}}).then(n=>{n=n.data;let a=[{id:n.playlist[0].id,name:"\u6211\u559C\u6B22"}];for(let o=1;o<n.playlist.length;o++)n.playlist[o].subscribed||a.push({id:n.playlist[o].id,name:n.playlist[o].name});localStorage.setItem(`songsListNet${s}`,JSON.stringify(a)),i(a)}).catch(n=>console.log(n))})}class Ze{constructor(){p(this,"ctx",null);p(this,"source",null);p(this,"audio",document.createElement("audio"));p(this,"fft",new Uint8Array(128));p(this,"analyser",null);p(this,"isPlay",f(!1));p(this,"music",f({}));p(this,"index",0);p(this,"listDou",f([]));p(this,"listNet",f([]));p(this,"listWant",[]);p(this,"indexNet",f(0));p(this,"indexDou",f(0));p(this,"updateNetCb",null);p(this,"updateProgressCb",null);p(this,"isUserSlide",!1);p(this,"order",0)}init(){this.ctx=new AudioContext,this.analyser=this.ctx.createAnalyser(),this.source=this.ctx.createMediaElementSource(this.audio),this.analyser.fftSize=256,this.source.connect(this.analyser).connect(this.ctx.destination),this.audio.ontimeupdate=()=>{this.updateNetCb&&this.music.value.platform=="net"&&this.updateNetCb(),this.updateProgressCb&&!this.isUserSlide&&this.updateProgressCb()};let e=this;this.audio.addEventListener("ended",this.next.bind(e))}async start(e,s){if(this.isPlay.value=!0,e.name==this.music.value.name){this.audio.play();return}this.ctx||this.init(),this.audio.pause(),this.music.value=e,this.index=s;let t;e.platform=="net"?(t=await Ye(e.id),this.indexNet.value=s):e.platform=="dou"&&(t=e.url,this.indexDou.value=s);let n=await Be(t);this.audio.src=n,this.audio.play()}next(){if(this.listWant.length==0){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.order==0?(this.index=this.index<e.length-1?this.index+1:0,this.start(e[this.index],this.index)):this.order==1?(this.index=Math.floor(Math.random()*e.length-1),this.start(e[this.index],this.index)):this.order==2&&this.audio.play()}else this.start(this.listWant[0]),this.listWant.shift()}last(){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.index=this.index-1<0?0:this.index-1,this.start(e[this.index],this.index)}pause(){this.audio.pause(),this.isPlay.value=!1}resume(){console.log("resume"),this.audio.play(),this.isPlay.value=!0}}const c=new Ze,W=40,ne=5,ie=128,Qe=.5,et=20,tt=65535,ae=10,st=100,G=new re({color:65535});class nt{constructor(e){p(this,"outLine");p(this,"inLine");p(this,"midLines",[]);p(this,"points",[]);this.scene=e}update(){let e=[],s=[];for(let t=0;t<c.fft.length;t++){let n=Math.PI*2/c.fft.length*t,a=Math.cos(n)*c.fft[t]*(ne/256),o=Math.sin(n)*c.fft[t]*(ne/256),r=[this.points[t*3]-a,0,this.points[t*3+2]-o,this.points[t*3]+a,0,this.points[t*3+2]+o];this.midLines[t].geometry.getAttribute("position").set(r,0),this.midLines[t].geometry.getAttribute("position").needsUpdate=!0,e.push(this.points[t*3]+a),e.push(0),e.push(this.points[t*3+2]+o),s.push(this.points[t*3]-a),s.push(0),s.push(this.points[t*3+2]-o)}this.outLine.geometry.getAttribute("position").set(e,0),this.inLine.geometry.getAttribute("position").set(s,0),this.outLine.geometry.getAttribute("position").needsUpdate=!0,this.inLine.geometry.getAttribute("position").needsUpdate=!0}init(){c.fft.forEach((t,n)=>{let a=Math.PI*2/c.fft.length*n,o=Math.cos(a)*W,r=0,u=Math.sin(a)*W;this.points.push(o,r,u);let m=new E;m.attributes.position=new U(new Float32Array([o,r,u,o,r,u]),3);let _=new ge(m,G);this.midLines.push(_),this.scene.add(_)});let e=new E,s=new E;e.attributes.position=new U(new Float32Array(this.points),3),s.attributes.position=new U(new Float32Array(this.points),3),this.outLine=new B(e,G),this.inLine=new B(s,G),this.scene.add(this.outLine,this.inLine)}}class it{constructor(e){p(this,"barGroup");p(this,"scene");this.scene=e}init(){this.barGroup=new X;for(let e=0;e<ie;e++){let s=new X,t=new ve(Qe),n=new ye({color:tt}),a=new xe(t,n);a.position.y=.5,s.add(a);let o=Math.PI*2/ie*e+Math.PI/2,r=Math.sin(o)*W,u=Math.cos(o)*W;s.position.set(r,ae,u),this.barGroup.add(s)}this.scene.add(this.barGroup)}update(){this.barGroup.children.forEach((e,s)=>{e.position.y=ae+c.fft[s]*(et/256)})}}class oe{constructor(){p(this,"speedT",T(.4,.6));p(this,"speedR",.01);p(this,"distance",0);p(this,"lifeDistance",500);p(this,"loopLine",null);p(this,"look",new be(0,1,0));this.angle=Math.random()*Math.PI*2,this.x=Math.cos(this.angle)*40,this.y=0,this.z=Math.sin(this.angle)*40;let t=[];for(let n=0;n<3;n++)t.push(T(-5,5)),t.push(T(-5,5)),t.push(T(-5,5));this.geometry=new E,this.geometry.attributes.position=new U(new Float32Array(t),3),this.material=new re({color:65535}),this.material.transparent=!0,this.loopLine=new B(this.geometry,this.material),this.loopLine.position.set(this.x,this.y,this.z)}update(){this.x+=this.speedT*Math.cos(this.angle),this.z+=this.speedT*Math.sin(this.angle),this.distance+=this.speedT,this.loopLine.position.set(this.x,this.y,this.z)}}class at{constructor(e){p(this,"intervelCount",0);p(this,"traingles",[]);this.scene=e}init(){for(let e=0;e<10;e++){let s=new oe;this.traingles.push(s),this.scene.add(s.loopLine)}}update(){if(this.intervelCount++,this.intervelCount>20){for(let e=0;e<3;e++){let s=new oe;this.traingles.push(s),this.scene.add(s.loopLine)}this.intervelCount=0}for(let e=0;e<this.traingles.length;e++){let s=this.traingles[e];s.update(),s.distance>s.lifeDistance&&(this.scene.remove(s.loopLine),s.geometry.dispose(),s.material.dispose(),this.traingles.splice(e--,1))}}}function T(i,e){return Math.random()*(e-i)+i}const ot={setup(i){const e=f(null);let s,t,n,a,o,r,u,m;F(()=>{_(),b()});function _(){M(),d(),L(),h(),o=new X,t.add(o),r=new nt(o),r.init(),u=new it(o),u.init(),m=new at(t),m.init()}function b(){var v;requestAnimationFrame(b),(v=c.analyser)==null||v.getByteFrequencyData(c.fft),a.update(),o.rotateY(.003),u.update(),r.update(),m.update(),s.render(t,n)}function d(){a=new we(n,s.domElement),a.enablePan=!1,a.enableDamping=!0,a.enableZoom=!0,a.minDistance=0,a.maxDistance=1e3}function h(){window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)})}function L(){t.add(new Le(65535));let v=new $e(65535);v.position.set(0,100,0),v.castShadow=!0}function M(){s=new Se({antialias:!0,alpha:!0,canvas:e.value}),s.setSize(window.innerWidth,window.innerHeight),t=new Ce,t.background=new ke().load(P()),n=new Ne(75,innerWidth/innerHeight,1,1e4),n.position.set(0,20,70),n.lookAt(0,0,0),new Me(st)}function P(){return["right.jpg","left.jpg","top.jpg","bottom.jpg","front.jpg","back.jpg"].map(C=>new URL({"../../assets/skybox/back.jpg":Ue,"../../assets/skybox/bottom.jpg":We,"../../assets/skybox/front.jpg":Fe,"../../assets/skybox/left.jpg":Re,"../../assets/skybox/right.jpg":ze,"../../assets/skybox/top.jpg":Je}[`../../assets/skybox/${C}`],self.location).href)}return(v,C)=>(g(),w("canvas",{class:"canvas",ref_key:"canvas",ref:e},null,512))}};class ce{constructor(e){this.duration=e,this.updateCb=()=>{},this.endedCb=()=>{},this.startTime=0}start(){this.startTime=new Date().getTime(),this.recursion()}recursion(){let e=new Date().getTime()-this.startTime;e<this.duration?(requestAnimationFrame(this.recursion.bind(this)),this.updateCb(e)):this.endedCb()}}var I=(i,e)=>{const s=i.__vccOpts||i;for(const[t,n]of e)s[t]=n;return s};const lt=i=>(K("data-v-568d2cca"),i=i(),Z(),i),rt=["onClick"],ct={class:"item_index"},ut={class:"mid"},dt={class:"item_name"},ht={class:"name_"},pt={class:"name"},_t={class:"author_"},ft={class:"author"},mt={class:"item_index"},gt={class:"mid"},vt=["onClick"],yt=lt(()=>l("span",{class:"mid add"},"+",-1)),xt=[yt],bt={props:{list:Object,index_:Object},setup(i){const e=i,s=f(null);function t(a,o){c.listWant.push(A(o));let r=s.value,u=a.srcElement.offsetTop,m=a.srcElement.offsetLeft,_=document.createElement("div");_.style.left=`${m}px`,_.style.top=u+"px",_.style.position="absolute",_.style.pointerEvents="none",_.style.fontSize="25px",_.innerHTML="+";let b=new ce(1e3);b.updateCb=d=>{d=d/1e3;let h=-100,L=-300,M=1500,P=m+h*d,v=u+L*d+.5*M*d**2;_.style.left=P+"px",_.style.top=v+"px"},b.endedCb=()=>{r.removeChild(_)},b.start(),r.appendChild(_)}function n(a){e.index_.value=a,c.start(e.list.value[a],a)}return(a,o)=>(g(),w("div",{class:"list scroll",ref_key:"list_",ref:s},[(g(!0),w(H,null,Y(i.list.value,(r,u)=>(g(),w("div",{class:"item hover",key:"index",onClick:m=>n(u),style:N({fontWeight:i.index_.value==u?"900":"400"})},[l("div",ct,[l("span",ut,S(i.list.value.length-u),1)]),l("div",dt,[l("div",ht,[l("span",pt,S(r.name),1)]),l("div",_t,[l("span",ft,S(r.author),1)])]),l("div",mt,[l("span",gt,S(y(D)(r.time)),1)]),l("div",{class:"item_index",onClick:Pe(m=>t(m,r),["stop"])},xt,8,vt)],12,rt))),128))],512))}};var ue=I(bt,[["__scopeId","data-v-568d2cca"]]);const wt={class:"dou"},Lt={class:"head"},$t={class:"span"},St={key:0,class:"pop scroll_no_bar"},Ct=["onClick"],kt={setup(i){let e=[];f(0);const s=f("\u6296\u97F3"),t=f(!1),n=["\u6296\u97F3","\u65E0\u4EBA\u58F0","\u6709\u4EBA\u58F0"];F(()=>{se().then(r=>{e=r,c.listDou.value=r})});function a(){localStorage.setItem("douList",""),se().then(r=>{e=r,c.listDou.value=r})}function o(r){s.value=n[r],c.listDou.value=r==0?e:e.filter(u=>u.tag==r),c.indexDou.value=0,t.value=!1}return(r,u)=>(g(),w("div",wt,[l("div",Lt,[l("div",{class:"list_name",onMouseenter:u[0]||(u[0]=()=>t.value=!0),onMouseleave:u[1]||(u[1]=()=>t.value=!1),onDblclick:a},[l("span",$t,S(s.value),1),t.value?(g(),w("div",St,[(g(),w(H,null,Y(n,(m,_)=>l("div",{class:"name black_text hover",key:_,onClick:b=>o(_)},S(m),9,Ct)),64))])):j("",!0)],32)]),k(ue,{list:y(c).listDou,index_:y(c).indexDou},null,8,["list","index_"])]))}};var Nt=I(kt,[["__scopeId","data-v-2a95f531"]]);const Mt={props:{flag:Boolean},emits:["change"],setup(i,{emit:e}){const t=f(i.flag);function n(){t.value=!t.value,e("change",t.value)}return(a,o)=>(g(),w("div",{class:"switch",onClick:n,style:N({backgroundColor:t.value?"rgba(0,255,255,0.6)":"transparent"})},[l("div",{class:"circle",style:N({transform:t.value?"translateX(15px)":"translateX(1px)"})},null,4)],4))}};var le=I(Mt,[["__scopeId","data-v-c3c72e58"]]);const de=i=>(K("data-v-0ee33975"),i=i(),Z(),i),Pt={class:"menu"},It={class:"item"},jt=de(()=>l("span",{class:"tip"},"\u73AF\u7ED5\u97F3\u6548",-1)),At={class:"right"},Ot={class:"item"},Dt=de(()=>l("span",{class:"tip"},"\u8BC4\u8BBA",-1)),Tt={class:"right"},Et={setup(i){function e(s){x.isPanner.value=s}return(s,t)=>(g(),w("div",Pt,[l("div",It,[jt,l("div",At,[k(le,{class:"switch_",flag:!1,onChange:e})])]),l("div",Ot,[Dt,l("div",Tt,[k(le,{class:"switch_",flag:!0,onChange:t[0]||(t[0]=n=>y(x).isComments.value=n)})])])]))}};var Ut=I(Et,[["__scopeId","data-v-0ee33975"]]);const Wt={class:"control"},Ft={class:"song"},Rt={class:"progress"},zt={class:"time"},Jt={class:"time_span"},qt={class:"slider"},Gt=["value"],Bt={class:"time"},Xt={class:"time_span"},Vt={class:"button"},Ht={class:"icon_"},Yt={class:"icon_"},Kt={class:"icon_"},Zt={class:"icon_"},Qt={setup(i){const e=f(1),s=c.music,t=c.isPlay,n=f("00:00"),a=f("00:00"),o=f(c.order);c.updateProgressCb=()=>{let d=c.audio.currentTime,h=c.audio.duration;isNaN(h)&&(h=0),e.value=d/h*100,n.value=D(Math.floor(d)),a.value=D(Math.floor(h))};function r(){s.value.platform=="net"&&Ge(s.value.id)}function u(d){e.value=d.target.value,c.isUserSlide=!0,n.value=D(Math.floor(c.audio.duration*e.value/100))}function m(d){e.value=d.target.value,c.isUserSlide=!1;let h=c.audio.duration*e.value/100;c.audio.currentTime=h}function _(){let d=o.value;c.order=d<2?d+1:0,o.value=c.order}function b(){!s.value.name||(c.isPlay.value?c.pause():c.resume())}return(d,h)=>(g(),w("div",Wt,[l("div",Ft,[l("span",{class:"span",onDblclick:r},S(y(s).name),33)]),l("div",Rt,[l("div",zt,[l("span",Jt,S(n.value),1)]),l("div",qt,[l("input",{class:"range",type:"range",value:e.value,min:"1",max:"100",step:"0.1",onInput:u,onChange:m,style:N({background:`linear-gradient(to right,#00ffff 0%,#00ffff ${e.value}%,rgba(0,255,255,0.4) ${e.value}%,rgba(0,255,255,0.4) 100%)`})},null,44,Gt)]),l("div",Bt,[l("span",Xt,S(a.value),1)])]),l("div",Vt,[l("div",Ht,[l("span",{class:ee(["icon","iconfont",["icon-shunxubofang","icon-suijibofang","icon-danquxunhuan"][o.value]]),onClick:_},null,2)]),l("div",Yt,[l("span",{class:"icon iconfont icon-shangyishoushangyige",onClick:h[0]||(h[0]=(...L)=>y(c).last&&y(c).last(...L))})]),l("div",{class:"icon_",onClick:b},[l("span",{class:ee(["icon","iconfont",y(t)?"icon-pause":"icon-bofang1"])},null,2)]),l("div",Kt,[l("span",{class:"icon iconfont icon-xiayigexiayishou",onClick:h[1]||(h[1]=(...L)=>y(c).next&&y(c).next(...L))})]),l("div",Zt,[l("span",{class:"icon iconfont icon-qingchu",onClick:h[2]||(h[2]=()=>y(c).listWant=[])})])])]))}};var es=I(Qt,[["__scopeId","data-v-169174d9"]]);const ts=i=>(K("data-v-2af6b1e1"),i=i(),Z(),i),ss={class:"net"},ns={class:"head"},is={class:"span_"},as={key:0,class:"pop scroll_no_bar"},os=["onClick"],ls={class:"fm_"},rs={class:"fm_"},cs=ts(()=>l("div",{class:"span_"},[l("span",{class:"center iconfont icon-sousuo"})],-1)),us={key:0,class:"pop_search pop"},ds={setup(i){f(0);const e=f([]),s=f(0),t=f(!1),n=f(!1),a=f(0),o=f("");F(async()=>{e.value=await Ke(),q(A(e.value)[0].id).then(d=>{c.listNet.value=d})});function r(){localStorage.setItem(`songListNet${A(e.value)[0].id}`,""),q(A(e.value)[0].id).then(d=>{s.value==0&&a.value==0&&(c.listNet.value=d)})}function u(){qe().then(d=>{c.listNet.value=d,c.indexNet.value=0,a.value=2})}function m(){Xe(o.value).then(d=>{c.listNet.value=d,c.indexNet.value=0,n.value=!1,a.value=3})}function _(){Ve().then(d=>{c.listNet.value=d,c.indexNet.value=0,a.value=1})}function b(d){s.value==d&&a.value==0||q(A(e.value)[d].id).then(h=>{c.listNet.value=h,c.indexNet.value=0,s.value=d,t.value=!1,a.value=0})}return(d,h)=>(g(),w("div",ss,[l("div",ns,[l("div",{class:"list_name",onMouseenter:h[0]||(h[0]=()=>t.value=!0),onMouseleave:h[1]||(h[1]=()=>t.value=!1),onDblclick:r},[l("div",is,[l("span",{class:"center",style:N({fontWeight:a.value==0?"900":"400"})},S(e.value.length!=0&&e.value[s.value].name),5)]),t.value?(g(),w("div",as,[(g(!0),w(H,null,Y(e.value,(L,M)=>(g(),w("div",{class:"name black_text hover",key:M,onClick:P=>b(M)},S(L.name),9,os))),128))])):j("",!0)],32),l("div",ls,[l("span",{class:"center",onClick:_,style:N({fontWeight:a.value==1?"900":"400"})},"\u65E5\u63A8",4)]),l("div",rs,[l("span",{class:"center",onClick:u,style:N({fontWeight:a.value==2?"900":"400"})},"FM",4)]),l("div",{class:"search",onMouseenter:h[3]||(h[3]=()=>n.value=!0),onMouseleave:h[4]||(h[4]=()=>n.value=!1)},[cs,n.value?(g(),w("div",us,[Ie(l("input",{class:"input",type:"text","onUpdate:modelValue":h[2]||(h[2]=L=>o.value=L)},null,512),[[je,o.value]]),l("span",{class:"icon iconfont icon-sousuo",onClick:m,style:N({fontWeight:a.value==3?"900":"400"})},null,4)])):j("",!0)],32)]),k(ue,{list:y(c).listNet,index_:y(c).indexNet},null,8,["list","index_"])]))}};var hs=I(ds,[["__scopeId","data-v-2af6b1e1"]]);const ps={class:"lyric"},_s={setup(i){const e=f(null),s=400,t=200,n=t/2;let a=t/2,o=t/6,r,u,m,_=[],b=0,d=0;F(()=>{M()}),Ae(()=>{h(c.music.value)});function h(v){v.name&&(b=0,d=0,a=n,_=[],P(),v.platform=="net"&&He(v.id).then(C=>{_=C,P(),c.updateNetCb=L}))}function L(){let v=c.audio.currentTime;for(let C in _)if(v<_[C].second){if(d=C-1<0?0:C-1,d!=b){let he=(b-d)*o,pe=n-b*o;b=d;let R=new ce(300);R.updateCb=_e=>{a=pe+he*(_e/300),P()},R.endedCb=()=>{},R.start()}break}}function M(){r=e.value,u=r.getContext("2d"),m=u.createLinearGradient(0,0,0,t),m.addColorStop("0","rgba(0,255,255,0)"),m.addColorStop("0.5","rgba(0,255,255,1)"),m.addColorStop("1.0","rgba(0,255,255,0)")}function P(){r.width=s,r.height=t,u.fillStyle=m,u.font="17px ''",u.textBaseline="middle",u.textAlign="center";for(let v=0;v<_.length;v++)u.fillText(_[v].content,s/2,o*v+a)}return(v,C)=>(g(),w("div",ps,[l("canvas",{ref_key:"canvas_",ref:e,id:"canvas"},null,512)]))}};var fs=I(_s,[["__scopeId","data-v-5ea1cd2e"]]);const ms={class:"index"},gs={class:"msg"},vs={setup(i){const e=z(()=>J(()=>import("./effect.b1722318.js"),["assets/effect.b1722318.js","assets/effect.9c7e0a11.css","assets/vendor.e0798fdf.js"])),s=z(()=>J(()=>import("./login.96bf95bf.js"),["assets/login.96bf95bf.js","assets/login.0018c516.css","assets/vendor.e0798fdf.js"])),t=z(()=>J(()=>import("./comments.80011d45.js"),["assets/comments.80011d45.js","assets/comments.f9f150d4.css","assets/vendor.e0798fdf.js"])),n=f(!1),a=["","\u4E0D\u8981\u4E71\u70B9\uFF0C\u6B63\u5728\u52A0\u8F7D\u4E2D......"];let o=localStorage.getItem("user");return x.isLogin.value=!!o,(r,u)=>(g(),w("div",ms,[k(ot),k(es,{class:"control_"}),k(Ut,{class:"menu_",onMouseleave:u[0]||(u[0]=()=>n.value=!1),style:N({transform:n.value?"translate(0vw,0)":"translate(-15vw,0)"})},null,8,["style"]),k(Nt,{class:"dou_"}),y(x).isLogin.value?(g(),O(hs,{key:0,class:"net_"})):j("",!0),y(x).isLogin.value?j("",!0):(g(),O(y(s),{key:1,class:"net_"})),k(fs,{class:"lyric_"}),y(x).isPanner.value?(g(),O(y(e),{key:2,class:"effect_"})):j("",!0),y(x).isComments.value?(g(),O(y(t),{key:3,class:"comments_"})):j("",!0),l("span",{class:"setting iconfont icon-shezhi",onMouseenter:u[1]||(u[1]=()=>n.value=!0)},null,32),l("span",gs,S(a[y(x).msg.value]),1)]))}};var ys=I(vs,[["__scopeId","data-v-e5a7d63a"]]);const xs={setup(i){return(e,s)=>(g(),O(ys))}};Oe(xs).mount("#app");export{I as _,Ls as g,Ss as l,c as p,$s as s};
