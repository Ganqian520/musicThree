var me=Object.defineProperty;var ge=(a,e,s)=>e in a?me(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var _=(a,e,s)=>(ge(a,typeof e!="symbol"?e+"":e,s),s);import{r as h,a as ee,L as he,B as W,b as X,c as ye,d as V,G as Z,S as xe,M as we,e as be,V as $e,o as R,O as ke,A as Le,P as Ce,R as Se,U as Me,f as Ne,E as Ie,W as Pe,g as je,C as Ae,h as Oe,i as De,j as m,k as y,l as Te,F as te,m as se,n as I,p as l,t as $,u as x,w as Ue,q as z,s as B,v as D,x as M,y as P,z as ie,D as K,H as Q,I as pe,J as Re,K as Fe,N as q,Q as T,T as We}from"./vendor.7822d186.js";const Xe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};Xe();var Ee="./assets/back.3e30294c.jpg",ze="./assets/bottom.283b4be8.jpg",Be="./assets/front.b9483333.jpg",Je="./assets/left.d7e0879d.jpg",Ge="./assets/right.80884b70.jpg",qe="./assets/top.8b10a0eb.jpg";const w={isLogin:h(!1),msg:h(0),isPanner:h(!1),isComments:h(!0)},L=ee.create({baseURL:"https://ganqian1.vercel.app/",timeout:18e3,withCredentials:!0});L.interceptors.request.use(a=>(w.msg.value=1,a));L.interceptors.response.use(a=>(w.msg.value=0,a),a=>(w.msg.value=0,a));function U(a){if(typeof a=="number"){let e=parseInt(a/60),s=parseInt(a-e*60);return e=e<10?`0${e}`:e,s=s<10?`0${s}`:s,`${e}:${s}`}else return parseInt(a.slice(0,2))*60+parseInt(a.slice(3,5))}function ne(a){return a.map(e=>({name:e.name,id:e.id,author:e.ar.map(s=>s.name).join("/"),time:Math.floor(e.dt/1e3),platform:"net"}))}function Ye(a){return new Promise((e,s)=>{L.get("/comment/music",{params:{id:a}}).then(t=>{let n=t.data.hotComments.reduce((i,o)=>i+"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"+o.user.nickname+"\uFF1A"+o.content,"");e(n.replace(`
`,""))}).catch(t=>console.log(t))})}function He(){return new Promise((a,e)=>{L.get("/personal_fm").then(s=>{let t=s.data.data.map(n=>({name:n.name,id:n.id,author:n.artists.map(i=>i.name).join("/"),time:Math.floor(n.duration/1e3),platform:"net"}));a(t)}).catch(s=>console.log(s))})}function Ve(a){return new Promise((e,s)=>{L.get("/like",{params:{id:a}}).catch(t=>console.log(t))})}function Ze(a){return w.msg.value=1,new Promise((e,s)=>{fetch(a,{responseType:"blob"}).then(t=>t.blob()).then(async t=>{w.msg.value=0;let n=URL.createObjectURL(t);e(n)}).catch(t=>{w.msg.value=0,console.log(t)})})}function Ke(a){return new Promise((e,s)=>{L.get("/cloudsearch",{params:{keywords:a}}).then(t=>{e(ne(t.data.result.songs))}).catch(t=>console.log(t))})}function Qe(){return new Promise((a,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid;L.get("/recommend/songs",{params:{uid:s}}).then(t=>{a(ne(t.data.data.dailySongs))}).catch(t=>console.log(t))})}function et(a){return new Promise((e,s)=>{L.get("/lyric",{params:{id:a}}).then(t=>{if(t=t.data,t.nolyric)e([]);else{let n=t.lrc.lyric.split(`
`),i=[];for(let o of n){if(o=="")continue;let c={};c.content=o.match(/](.*)/)[1],c.content!=""&&(c.time=o.slice(1,6),c.second=U(c.time),i.push(c))}e(i)}}).catch(t=>console.log(t))})}function tt(a){return new Promise((e,s)=>{let t=`https://music.163.com/song/media/outer/url?id=${a}.mp3`;ee({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getNetEaseMusicUrl",url:t})}).then(i=>{if(i.data.url!="https://music.163.com/404"){let o=i.data.url.replace(/(http|https)/,"https");e(o)}else L.get(`/song/url?id=${a}`).then(o=>{let c=o.data.data[0].url.replace(/(http|https)/,"https");e(c)}).catch(o=>console.log(o))}).catch(i=>console.log(i))})}function oe(){return new Promise((a,e)=>{let s=localStorage.getItem("douList");s?a(JSON.parse(s)):(w.msg.value=1,ee({method:"POST",url:"https://ca448d14-fda5-4d8f-9279-3f4896d8f854.bspapp.com/index",data:JSON.stringify({action:"getDouYin"})}).then(n=>{w.msg.value=0;let i=n.data.data.map(o=>({name:o.name,tag:o.tag,author:o.res.musicAuthor,time:o.res.musicDuration,url:o.res.musicUrl,platform:"dou"}));localStorage.setItem("douList",JSON.stringify(i)),a(i)}).catch(n=>{w.msg.value=0,console.log(n)}))})}async function st(a){return new Promise((e,s)=>{L.get("/captcha/sent",{params:{phone:a}}).then(t=>{e(!0)}).catch(t=>console.log(t))})}async function nt(a,e){return new Promise((s,t)=>{L.get("/login/cellphone",{params:{phone:a,captcha:e}}).then(n=>{n=n.data;let i={uid:n.account.id,avatarUrl:n.profile.avatarUrl,nickName:n.profile.nickname};localStorage.setItem("user",JSON.stringify(i)),w.isLogin.value=!0,s()}).catch(n=>console.log(n))})}function Y(a){return new Promise((e,s)=>{let t=JSON.parse(localStorage.getItem("user")).uid,n=localStorage.getItem(`songsListNet${t}`),i=localStorage.getItem(`songListNet${a}`);i?e(JSON.parse(i)):L.get("/playlist/detail",{params:{id:a}}).then(o=>{let c=ne(o.data.playlist.tracks);a==JSON.parse(n)[0].id&&localStorage.setItem(`songListNet${a}`,JSON.stringify(c)),e(c)}).catch(o=>console.log(o))})}function at(){return new Promise((a,e)=>{let s=JSON.parse(localStorage.getItem("user")).uid,t=localStorage.getItem(`songsListNet${s}`);t?a(JSON.parse(t)):L.get("/user/playlist",{params:{uid:s}}).then(n=>{n=n.data;let i=[{id:n.playlist[0].id,name:"\u6211\u559C\u6B22"}];for(let o=1;o<n.playlist.length;o++)n.playlist[o].subscribed||i.push({id:n.playlist[o].id,name:n.playlist[o].name});localStorage.setItem(`songsListNet${s}`,JSON.stringify(i)),a(i)}).catch(n=>console.log(n))})}class it{constructor(){_(this,"ctx",null);_(this,"source",null);_(this,"audio",document.createElement("audio"));_(this,"fft",new Uint8Array(128));_(this,"analyser",null);_(this,"isPlay",h(!1));_(this,"music",h({}));_(this,"index",0);_(this,"listDou",h([]));_(this,"listNet",h([]));_(this,"listWant",[]);_(this,"indexNet",h(0));_(this,"indexDou",h(0));_(this,"updateNetCb",null);_(this,"updateProgressCb",null);_(this,"isUserSlide",!1);_(this,"order",0)}init(){this.ctx=new AudioContext,this.analyser=this.ctx.createAnalyser(),this.source=this.ctx.createMediaElementSource(this.audio),this.analyser.fftSize=512,this.source.connect(this.analyser).connect(this.ctx.destination),this.audio.ontimeupdate=()=>{this.updateNetCb&&this.music.value.platform=="net"&&this.updateNetCb(),this.updateProgressCb&&!this.isUserSlide&&this.updateProgressCb()};let e=this;this.audio.addEventListener("ended",this.next.bind(e))}async start(e,s){if(this.isPlay.value=!0,e.name==this.music.value.name){this.audio.play();return}this.ctx||this.init(),this.audio.pause(),this.music.value=e,this.index=s;let t;e.platform=="net"?(t=await tt(e.id),this.indexNet.value=s):e.platform=="dou"&&(t=e.url,this.indexDou.value=s);let n=await Ze(t);this.audio.src=n,this.audio.play()}next(){if(this.listWant.length==0){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.order==0?(this.index=this.index<e.length-1?this.index+1:0,this.start(e[this.index],this.index)):this.order==1?(this.index=Math.floor(Math.random()*e.length-1),this.start(e[this.index],this.index)):this.order==2&&this.audio.play()}else this.start(this.listWant[0]),this.listWant.shift()}last(){let e=this.music.value.platform=="net"?this.listNet.value:this.listDou.value;this.index=this.index-1<0?0:this.index-1,this.start(e[this.index],this.index)}pause(){this.audio.pause(),this.isPlay.value=!1}resume(){console.log("resume"),this.audio.play(),this.isPlay.value=!0}}const r=new it,E=40,le=10,re=128,ot=.5,lt=20,rt=65535,ce=10,ct=100,H=new he({color:65535});class ut{constructor(e){_(this,"outLine");_(this,"inLine");_(this,"midLines",[]);_(this,"points",[]);this.scene=e}update(){let e=[],s=[];for(let t=0;t<r.fft.length;t++){let n=Math.PI*2/r.fft.length*t,i=Math.cos(n)*r.fft[t]*(le/256),o=Math.sin(n)*r.fft[t]*(le/256),c=[this.points[t*3]-i,0,this.points[t*3+2]-o,this.points[t*3]+i,0,this.points[t*3+2]+o];this.midLines[t].geometry.getAttribute("position").set(c,0),this.midLines[t].geometry.getAttribute("position").needsUpdate=!0,e.push(this.points[t*3]+i),e.push(0),e.push(this.points[t*3+2]+o),s.push(this.points[t*3]-i),s.push(0),s.push(this.points[t*3+2]-o)}this.outLine.geometry.getAttribute("position").set(e,0),this.inLine.geometry.getAttribute("position").set(s,0),this.outLine.geometry.getAttribute("position").needsUpdate=!0,this.inLine.geometry.getAttribute("position").needsUpdate=!0}init(){r.fft.forEach((t,n)=>{let i=Math.PI*2/r.fft.length*n,o=Math.cos(i)*E,c=0,u=Math.sin(i)*E;this.points.push(o,c,u);let v=new W;v.attributes.position=new X(new Float32Array([o,c,u,o,c,u]),3);let d=new ye(v,H);this.midLines.push(d),this.scene.add(d)});let e=new W,s=new W;e.attributes.position=new X(new Float32Array(this.points),3),s.attributes.position=new X(new Float32Array(this.points),3),this.outLine=new V(e,H),this.inLine=new V(s,H),this.scene.add(this.outLine,this.inLine)}}class dt{constructor(e){_(this,"barGroup");_(this,"scene");this.scene=e}init(){this.barGroup=new Z;for(let e=0;e<re;e++){let s=new Z,t=new xe(ot),n=new we({color:rt}),i=new be(t,n);i.position.y=.5,s.add(i);let o=Math.PI*2/re*e+Math.PI/2,c=Math.sin(o)*E,u=Math.cos(o)*E;s.position.set(c,ce,u),this.barGroup.add(s)}this.scene.add(this.barGroup)}update(){this.barGroup.children.forEach((e,s)=>{e.position.y=ce+r.fft[s]*(lt/256)})}}class ue{constructor(){_(this,"speedT",F(.4,.6));_(this,"speedR",.01);_(this,"distance",0);_(this,"lifeDistance",500);_(this,"loopLine",null);_(this,"look",new $e(0,1,0));this.angle=Math.random()*Math.PI*2,this.x=Math.cos(this.angle)*40,this.y=0,this.z=Math.sin(this.angle)*40;let t=[];for(let n=0;n<3;n++)t.push(F(-5,5)),t.push(F(-5,5)),t.push(F(-5,5));this.geometry=new W,this.geometry.attributes.position=new X(new Float32Array(t),3),this.material=new he({color:65535}),this.material.transparent=!0,this.loopLine=new V(this.geometry,this.material),this.loopLine.position.set(this.x,this.y,this.z)}update(){this.x+=this.speedT*Math.cos(this.angle),this.z+=this.speedT*Math.sin(this.angle),this.distance+=this.speedT,this.loopLine.position.set(this.x,this.y,this.z)}}class ht{constructor(e){_(this,"intervelCount",0);_(this,"traingles",[]);this.scene=e}init(){for(let e=0;e<10;e++){let s=new ue;this.traingles.push(s),this.scene.add(s.loopLine)}}update(){if(this.intervelCount++,this.intervelCount>20){for(let e=0;e<3;e++){let s=new ue;this.traingles.push(s),this.scene.add(s.loopLine)}this.intervelCount=0}for(let e=0;e<this.traingles.length;e++){let s=this.traingles[e];s.update(),s.distance>s.lifeDistance&&(this.scene.remove(s.loopLine),s.geometry.dispose(),s.material.dispose(),this.traingles.splice(e--,1))}}}function F(a,e){return Math.random()*(e-a)+a}const pt={setup(a){const e=h(null);let s,t,n,i,o;new Te;let c={threshold:.2,strength:1,radius:0},u,v,d,g;R(()=>{p(),f()});function p(){G(),j(),J(),b(),A(),u=new Z,t.add(u),v=new ut(u),v.init(),d=new dt(u),d.init(),g=new ht(t),g.init()}function f(){requestAnimationFrame(f),k(),i.render()}function k(){var S;(S=r.analyser)==null||S.getByteFrequencyData(r.fft),o.update(),u.rotateY(.003),d.update(),v.update(),g.update()}function j(){o=new ke(n,s.domElement),o.enablePan=!1,o.enableDamping=!0,o.enableZoom=!0,o.minDistance=0,o.maxDistance=1e3}function A(){window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight),i.setSize(window.innerWidth,window.innerHeight)})}function b(){t.add(new Le(4473924));let S=new Ce(16777215);S.position.set(80,100,50),S.castShadow=!0,t.add(S)}let C;function J(){let S=new Se(t,n);C=new Me(new Ne(window.innerWidth,window.innerHeight),1.5,.2,0),C.threshold=c.threshold,C.strength=c.strength,C.radius=c.radius,i=new Ie(s),i.addPass(S),i.addPass(C)}function G(){s=new Pe({antialias:!0,alpha:!0,canvas:e.value}),s.setSize(window.innerWidth,window.innerHeight),t=new je,t.background=new Ae().load(O()),n=new Oe(75,innerWidth/innerHeight,1,1e4),n.position.set(0,40,70),n.lookAt(0,0,0),new De(ct)}function O(){return["right.jpg","left.jpg","top.jpg","bottom.jpg","front.jpg","back.jpg"].map(ae=>new URL({"../../assets/skybox/back.jpg":Ee,"../../assets/skybox/bottom.jpg":ze,"../../assets/skybox/front.jpg":Be,"../../assets/skybox/left.jpg":Je,"../../assets/skybox/right.jpg":Ge,"../../assets/skybox/top.jpg":qe}[`../../assets/skybox/${ae}`],self.location).href)}return(S,ae)=>(m(),y("canvas",{class:"canvas",ref_key:"canvas",ref:e},null,512))}};class _e{constructor(e){this.duration=e,this.updateCb=()=>{},this.endedCb=()=>{},this.startTime=0}start(){this.startTime=new Date().getTime(),this.recursion()}recursion(){let e=new Date().getTime()-this.startTime;e<this.duration?(requestAnimationFrame(this.recursion.bind(this)),this.updateCb(e)):this.endedCb()}}var N=(a,e)=>{const s=a.__vccOpts||a;for(const[t,n]of e)s[t]=n;return s};const _t=a=>(z("data-v-30380fb7"),a=a(),B(),a),ft=["onClick"],vt={class:"item_index"},mt={class:"mid"},gt={class:"item_name"},yt={class:"name_"},xt={class:"name"},wt={class:"author_"},bt={class:"author"},$t={class:"item_index"},kt={class:"mid"},Lt=["onClick"],Ct=_t(()=>l("span",{class:"mid add"},"+",-1)),St=[Ct],Mt={props:{list:Object,index_:Object},setup(a){const e=a,s=h(null);function t(i,o){r.listWant.push(D(o));let c=s.value,u=i.srcElement.offsetTop,v=i.srcElement.offsetLeft,d=document.createElement("div");d.style.left=`${v}px`,d.style.top=u+"px",d.style.position="absolute",d.style.pointerEvents="none",d.style.fontSize="25px",d.innerHTML="+";let g=new _e(1e3);g.updateCb=p=>{p=p/1e3;let f=-100,k=-300,j=1500,A=v+f*p,b=u+k*p+.5*j*p**2;d.style.left=A+"px",d.style.top=b+"px"},g.endedCb=()=>{c.removeChild(d)},g.start(),c.appendChild(d)}function n(i){e.index_.value=i,r.start(e.list.value[i],i)}return(i,o)=>(m(),y("div",{class:"list scroll",ref_key:"list_",ref:s},[(m(!0),y(te,null,se(a.list.value,(c,u)=>(m(),y("div",{class:"item hover",key:"index",onClick:v=>n(u),style:I({fontWeight:a.index_.value==u?"900":"400"})},[l("div",vt,[l("span",mt,$(a.list.value.length-u),1)]),l("div",gt,[l("div",yt,[l("span",xt,$(c.name),1)]),l("div",wt,[l("span",bt,$(c.author),1)])]),l("div",$t,[l("span",kt,$(x(U)(c.time)),1)]),l("div",{class:"item_index",onClick:Ue(v=>t(v,c),["stop"])},St,8,Lt)],12,ft))),128))],512))}};var fe=N(Mt,[["__scopeId","data-v-30380fb7"]]);const Nt={class:"dou"},It={class:"head"},Pt={class:"span"},jt={key:0,class:"pop scroll_no_bar"},At=["onClick"],Ot={setup(a){let e=[];h(0);const s=h("\u6296\u97F3"),t=h(!1),n=["\u6296\u97F3","\u65E0\u4EBA\u58F0","\u6709\u4EBA\u58F0"];R(()=>{oe().then(c=>{e=c,r.listDou.value=c})});function i(){localStorage.setItem("douList",""),oe().then(c=>{e=c,r.listDou.value=c})}function o(c){s.value=n[c],r.listDou.value=c==0?e:e.filter(u=>u.tag==c),r.indexDou.value=0,t.value=!1}return(c,u)=>(m(),y("div",Nt,[l("div",It,[l("div",{class:"list_name",onMouseenter:u[0]||(u[0]=()=>t.value=!0),onMouseleave:u[1]||(u[1]=()=>t.value=!1),onDblclick:i},[l("span",Pt,$(s.value),1),t.value?(m(),y("div",jt,[(m(),y(te,null,se(n,(v,d)=>l("div",{class:"name black_text hover",key:d,onClick:g=>o(d)},$(v),9,At)),64))])):M("",!0)],32)]),P(fe,{list:x(r).listDou,index_:x(r).indexDou},null,8,["list","index_"])]))}};var Dt=N(Ot,[["__scopeId","data-v-2a95f531"]]);const Tt={props:{flag:Boolean},emits:["change"],setup(a,{emit:e}){const t=h(a.flag);function n(){t.value=!t.value,e("change",t.value)}return(i,o)=>(m(),y("div",{class:"switch",onClick:n,style:I({backgroundColor:t.value?"rgba(0,255,255,0.6)":"transparent"})},[l("div",{class:"circle",style:I({transform:t.value?"translateX(15px)":"translateX(1px)"})},null,4)],4))}};var de=N(Tt,[["__scopeId","data-v-c3c72e58"]]);const ve=a=>(z("data-v-0ee33975"),a=a(),B(),a),Ut={class:"menu"},Rt={class:"item"},Ft=ve(()=>l("span",{class:"tip"},"\u73AF\u7ED5\u97F3\u6548",-1)),Wt={class:"right"},Xt={class:"item"},Et=ve(()=>l("span",{class:"tip"},"\u8BC4\u8BBA",-1)),zt={class:"right"},Bt={setup(a){function e(s){w.isPanner.value=s}return(s,t)=>(m(),y("div",Ut,[l("div",Rt,[Ft,l("div",Wt,[P(de,{class:"switch_",flag:!1,onChange:e})])]),l("div",Xt,[Et,l("div",zt,[P(de,{class:"switch_",flag:!0,onChange:t[0]||(t[0]=n=>x(w).isComments.value=n)})])])]))}};var Jt=N(Bt,[["__scopeId","data-v-0ee33975"]]);const Gt={class:"control"},qt={class:"song"},Yt={class:"progress"},Ht={class:"time"},Vt={class:"time_span"},Zt={class:"slider"},Kt=["value"],Qt={class:"time"},es={class:"time_span"},ts={class:"button"},ss={class:"icon_"},ns={class:"icon_"},as={class:"icon_"},is={class:"icon_"},os={setup(a){const e=h(1),s=r.music,t=r.isPlay,n=h("00:00"),i=h("00:00"),o=h(r.order);r.updateProgressCb=()=>{let p=r.audio.currentTime,f=r.audio.duration;isNaN(f)&&(f=0),e.value=p/f*100,n.value=U(Math.floor(p)),i.value=U(Math.floor(f))};function c(){s.value.platform=="net"&&Ve(s.value.id)}function u(p){e.value=p.target.value,r.isUserSlide=!0,n.value=U(Math.floor(r.audio.duration*e.value/100))}function v(p){e.value=p.target.value,r.isUserSlide=!1;let f=r.audio.duration*e.value/100;r.audio.currentTime=f}function d(){let p=o.value;r.order=p<2?p+1:0,o.value=r.order}function g(){!s.value.name||(r.isPlay.value?r.pause():r.resume())}return(p,f)=>(m(),y("div",Gt,[l("div",qt,[l("span",{class:"span",onDblclick:c},$(x(s).name),33)]),l("div",Yt,[l("div",Ht,[l("span",Vt,$(n.value),1)]),l("div",Zt,[l("input",{class:"range",type:"range",value:e.value,min:"1",max:"100",step:"0.1",onInput:u,onChange:v,style:I({background:`linear-gradient(to right,#00ffff 0%,#00ffff ${e.value}%,rgba(0,255,255,0.4) ${e.value}%,rgba(0,255,255,0.4) 100%)`})},null,44,Kt)]),l("div",Qt,[l("span",es,$(i.value),1)])]),l("div",ts,[l("div",ss,[l("span",{class:ie(["icon","iconfont",["icon-shunxubofang","icon-suijibofang","icon-danquxunhuan"][o.value]]),onClick:d},null,2)]),l("div",ns,[l("span",{class:"icon iconfont icon-shangyishoushangyige",onClick:f[0]||(f[0]=(...k)=>x(r).last&&x(r).last(...k))})]),l("div",{class:"icon_",onClick:g},[l("span",{class:ie(["icon","iconfont",x(t)?"icon-pause":"icon-bofang1"])},null,2)]),l("div",as,[l("span",{class:"icon iconfont icon-xiayigexiayishou",onClick:f[1]||(f[1]=(...k)=>x(r).next&&x(r).next(...k))})]),l("div",is,[l("span",{class:"icon iconfont icon-qingchu",onClick:f[2]||(f[2]=()=>x(r).listWant=[])})])])]))}};var ls=N(os,[["__scopeId","data-v-169174d9"]]);const rs=a=>(z("data-v-2af6b1e1"),a=a(),B(),a),cs={class:"net"},us={class:"head"},ds={class:"span_"},hs={key:0,class:"pop scroll_no_bar"},ps=["onClick"],_s={class:"fm_"},fs={class:"fm_"},vs=rs(()=>l("div",{class:"span_"},[l("span",{class:"center iconfont icon-sousuo"})],-1)),ms={key:0,class:"pop_search pop"},gs={setup(a){h(0);const e=h([]),s=h(0),t=h(!1),n=h(!1),i=h(0),o=h("");R(async()=>{e.value=await at(),Y(D(e.value)[0].id).then(p=>{r.listNet.value=p})});function c(){localStorage.setItem(`songListNet${D(e.value)[0].id}`,""),Y(D(e.value)[0].id).then(p=>{s.value==0&&i.value==0&&(r.listNet.value=p)})}function u(){He().then(p=>{r.listNet.value=p,r.indexNet.value=0,i.value=2})}function v(){Ke(o.value).then(p=>{r.listNet.value=p,r.indexNet.value=0,n.value=!1,i.value=3})}function d(){Qe().then(p=>{r.listNet.value=p,r.indexNet.value=0,i.value=1})}function g(p){s.value==p&&i.value==0||Y(D(e.value)[p].id).then(f=>{r.listNet.value=f,r.indexNet.value=0,s.value=p,t.value=!1,i.value=0})}return(p,f)=>(m(),y("div",cs,[l("div",us,[l("div",{class:"list_name",onMouseenter:f[0]||(f[0]=()=>t.value=!0),onMouseleave:f[1]||(f[1]=()=>t.value=!1),onDblclick:c},[l("div",ds,[l("span",{class:"center",style:I({fontWeight:i.value==0?"900":"400"})},$(e.value.length!=0&&e.value[s.value].name),5)]),t.value?(m(),y("div",hs,[(m(!0),y(te,null,se(e.value,(k,j)=>(m(),y("div",{class:"name black_text hover",key:j,onClick:A=>g(j)},$(k.name),9,ps))),128))])):M("",!0)],32),l("div",_s,[l("span",{class:"center",onClick:d,style:I({fontWeight:i.value==1?"900":"400"})},"\u65E5\u63A8",4)]),l("div",fs,[l("span",{class:"center",onClick:u,style:I({fontWeight:i.value==2?"900":"400"})},"FM",4)]),l("div",{class:"search",onMouseenter:f[3]||(f[3]=()=>n.value=!0),onMouseleave:f[4]||(f[4]=()=>n.value=!1)},[vs,n.value?(m(),y("div",ms,[K(l("input",{class:"input",type:"text","onUpdate:modelValue":f[2]||(f[2]=k=>o.value=k)},null,512),[[Q,o.value]]),l("span",{class:"icon iconfont icon-sousuo",onClick:v,style:I({fontWeight:i.value==3?"900":"400"})},null,4)])):M("",!0)],32)]),P(fe,{list:x(r).listNet,index_:x(r).indexNet},null,8,["list","index_"])]))}};var ys=N(gs,[["__scopeId","data-v-2af6b1e1"]]);const xs={class:"lyric"},ws={setup(a){const e=h(null),s=400,t=200,n=t/2;let i=t/2,o=t/6,c,u,v,d=[],g=0,p=0;R(()=>{j()}),pe(()=>{f(r.music.value)});function f(b){b.name&&(g=0,p=0,i=n,d=[],A(),b.platform=="net"&&et(b.id).then(C=>{d=C,A(),r.updateNetCb=k}))}function k(){let b=r.audio.currentTime;for(let C in d)if(b<d[C].second){if(p=C-1<0?0:C-1,p!=g){let J=(g-p)*o,G=n-g*o;g=p;let O=new _e(300);O.updateCb=S=>{i=G+J*(S/300),A()},O.endedCb=()=>{},O.start()}break}}function j(){c=e.value,u=c.getContext("2d"),v=u.createLinearGradient(0,0,0,t),v.addColorStop("0","rgba(0,255,255,0)"),v.addColorStop("0.5","rgba(0,255,255,1)"),v.addColorStop("1.0","rgba(0,255,255,0)")}function A(){c.width=s,c.height=t,u.fillStyle=v,u.font="17px ''",u.textBaseline="middle",u.textAlign="center",u.shadowColor="rgba(0,255,255,1)",u.shadowBlur=40;for(let b=0;b<d.length;b++)u.fillText(d[b].content,s/2,o*b+i)}return(b,C)=>(m(),y("div",xs,[l("canvas",{ref_key:"canvas_",ref:e,id:"canvas"},null,512)]))}};var bs=N(ws,[["__scopeId","data-v-28635e1b"]]);const $s=a=>(z("data-v-d259f294"),a=a(),B(),a),ks={class:"login"},Ls=$s(()=>l("span",{class:"item"},"\u7F51\u6613\u4E91",-1)),Cs={class:"ver"},Ss={key:1,class:"send"},Ms={key:1,class:"start item"},Ns={setup(a){const e=h(""),s=h(""),t=h(!0),n=h(!0),i=h(60);let o;Re(()=>{clearInterval(o)});async function c(){t.value=!1,o=setInterval(()=>{i.value--,i.value==-1&&(i.value=60,t.value=!0,clearInterval(o))},1e3),st(e.value)}function u(){n.value=!1,nt(e.value,s.value).catch(v=>{n=!0})}return(v,d)=>(m(),y("div",ks,[Ls,K(l("input",{class:"phone",type:"text",placeholder:"\u624B\u673A\u53F7\uFF1A","onUpdate:modelValue":d[0]||(d[0]=g=>e.value=g)},null,512),[[Q,e.value]]),l("div",Cs,[K(l("input",{class:"input_ver",type:"text","onUpdate:modelValue":d[1]||(d[1]=g=>s.value=g),placeholder:"\u9A8C\u8BC1\u7801\uFF1A"},null,512),[[Q,s.value]]),t.value?(m(),y("span",{key:0,class:"send",onClick:c},"\u53D1\u9001\u9A8C\u8BC1\u7801")):M("",!0),t.value?M("",!0):(m(),y("span",Ss,$(i.value),1))]),n.value?(m(),y("div",{key:0,class:"start item",onClick:u},"\u767B\u5F55")):M("",!0),n.value?M("",!0):(m(),y("div",Ms,"\u767B\u5F55\u4E2D\u3002\u3002\u3002"))]))}};var Is=N(Ns,[["__scopeId","data-v-d259f294"]]);class Ps{constructor(){_(this,"listener",null);_(this,"panner",null)}move(e,s){this.panner.positionX.value=parseInt(e),this.panner.positionZ.value=parseInt(s)}init(){this.listener=r.ctx.listener,this.listener.positionX.value=100,this.listener.positionY.value=0,this.listener.positionZ.value=100,this.listener.forwardX.value=0,this.listener.forwardY.value=0,this.listener.forwardZ.value=-1,this.listener.upX.value=0,this.listener.upY.value=1,this.listener.upZ.value=0,this.panner=new PannerNode(r.ctx,{panningModel:"HRTF",distanceModel:"linear",positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:-1,refDistance:1,maxDistance:200,rolloffFactor:1e5,coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:.1}),this.connect()}connect(){r.analyser.disconnect(r.ctx.destination),r.analyser.connect(this.panner).connect(r.ctx.destination)}dispose(){r.analyser.disconnect(this.panner),this.panner.disconnect(r.ctx.destination),r.analyser.connect(r.ctx.destination)}}const js={class:"effect"},As={class:"circle"},Os={setup(a){let e;const t=h(100),n=h(100);let i=0;const o=h(!1);let c=null;R(()=>{e=new Ps,e.init(),u()}),Fe(()=>{e.dispose(),cancelAnimationFrame(c)});function u(){c=window.requestAnimationFrame(u),o.value||(i=i+.05>Math.PI*2?0:i+.05,t.value=Math.cos(i)*100+100,n.value=Math.sin(i)*100+100,e.move(t.value,n.value))}function v(d){o.value=!0,t.value=d.offsetX,n.value=d.offsetY,e.move(d.offsetX,d.offsetY)}return(d,g)=>(m(),y("div",js,[l("div",As,[l("span",{class:"listener iconfont icon-yinxiang",style:I({left:t.value+"px",top:n.value+"px"})},"\u97F3",4),l("div",{class:"mask",onMousemove:v,onMouseleave:g[0]||(g[0]=()=>o.value=!1)},null,32)])]))}};var Ds=N(Os,[["__scopeId","data-v-214a2a68"]]);const Ts={class:"comments scroll_no_bar"},Us={setup(a){const e=h(""),s=h(0),t=h(null),n=150;pe(()=>{i(r.music.value)});async function i(o){!r.ctx||(await q(),e.value="",t.value.style.animation="none",await q(),o.name&&o.platform=="net"&&Ye(o.id).then(async c=>{e.value=c,await q(),s.value=t.value.scrollWidth,t.value.style.animation=`kf_loopcomments infinite linear ${s.value/n}s`;let u=`@keyframes kf_loopcomments {0% {transform:translateX(500px);}100% {transform:translateX(${-s.value}px);}}`,v=document.styleSheets[0];v.insertRule(u,v.cssRules.length)}))}return(o,c)=>(m(),y("div",Ts,[l("span",{class:"longstr",ref_key:"span",ref:t},$(e.value),513)]))}};var Rs=N(Us,[["__scopeId","data-v-053ee6f8"]]);const Fs={class:"index"},Ws={class:"msg"},Xs={setup(a){const e=h(!1),s=["","\u4E0D\u8981\u4E71\u70B9\uFF0C\u6B63\u5728\u52A0\u8F7D\u4E2D......"];let t=localStorage.getItem("user");return w.isLogin.value=!!t,(n,i)=>(m(),y("div",Fs,[P(pt),P(ls,{class:"control_"}),P(Jt,{class:"menu_",onMouseleave:i[0]||(i[0]=()=>e.value=!1),style:I({transform:e.value?"translate(0vw,0)":"translate(-15vw,0)"})},null,8,["style"]),P(Dt,{class:"dou_"}),x(w).isLogin.value?(m(),T(ys,{key:0,class:"net_"})):M("",!0),x(w).isLogin.value?M("",!0):(m(),T(Is,{key:1,class:"net_"})),P(bs,{class:"lyric_"}),x(w).isPanner.value?(m(),T(Ds,{key:2,class:"effect_"})):M("",!0),x(w).isComments.value?(m(),T(Rs,{key:3,class:"comments_"})):M("",!0),l("span",{class:"setting iconfont icon-shezhi",onMouseenter:i[1]||(i[1]=()=>e.value=!0)},null,32),l("span",Ws,$(s[x(w).msg.value]),1)]))}};var Es=N(Xs,[["__scopeId","data-v-519061ae"]]);const zs={setup(a){return(e,s)=>(m(),T(Es))}};We(zs).mount("#app");
